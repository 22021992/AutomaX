<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Botão WhatsApp com Formulário</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-100">

    <!-- Botão flutuante do WhatsApp --> 
    <button
      id="openForm"
      class="fixed bottom-6 right-6 bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-lg z-50"
    >
      <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2"
        viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round"
          d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2v10z">
        </path>
      </svg>
    </button>
	<script>
  // Abrir popup
  document.getElementById('openForm').addEventListener('click', function () {
    document.getElementById('formPopup').classList.remove('hidden');
  });

  // Fechar popup
  document.getElementById('closeForm').addEventListener('click', function () {
    document.getElementById('formPopup').classList.add('hidden');
  });

  // Fechar popup clicando fora do formulário
  document.getElementById('formPopup').addEventListener('click', function (e) {
    if (e.target === this) {
      this.classList.add('hidden');
    }
  });
</script>

    <!-- Popup com formulário -->
    <div
      id="formPopup"
      class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
    >
      <div class="bg-white p-6 rounded-lg shadow-lg w-96 relative">
        <button
          id="closeForm"
          class="absolute top-2 right-2 text-gray-500 hover:text-gray-700"
        >
          &times;
        </button>
        <h2 class="text-xl font-bold mb-4 text-center">Fale conosco via WhatsApp</h2>
        <form id="whatsappForm" class="space-y-4">
          <div>
            <label for="ramo" class="block text-sm font-medium text-gray-700">Ramo do seu negócio</label>
            <input type="text" id="ramo" name="ramo" required
              class="mt-1 block w-full border border-gray-300 rounded-md p-2" />
          </div>
          <div>
            <label for="problema" class="block text-sm font-medium text-gray-700">Qual seu maior problema hoje?</label>
            <input type="text" id="problema" name="problema" required
              class="mt-1 block w-full border border-gray-300 rounded-md p-2" />
          </div>
          <div>
            <label for="telefone" class="block text-sm font-medium text-gray-700">Seu WhatsApp com DDD</label>
            <input type="tel" id="telefone" name="telefone" required
              class="mt-1 block w-full border border-gray-300 rounded-md p-2" />
          </div>
          <button
            type="submit"
            class="w-full bg-green-500 text-white p-2 rounded hover:bg-green-600"
          >
            Enviar para o WhatsApp
          </button>
        </form>
      </div>
    </div>

    <!-- Scripts -->
    <script>
      // Popup formulário WhatsApp
      const openFormBtn = document.getElementById('openForm');
      const closeFormBtn = document.getElementById('closeForm');
      const formPopup = document.getElementById('formPopup');
      const whatsappForm = document.getElementById('whatsappForm');

      openFormBtn.addEventListener('click', () => {
        formPopup.classList.remove('hidden');
      });

      closeFormBtn.addEventListener('click', () => {
        formPopup.classList.add('hidden');
      });

      whatsappForm.addEventListener('submit', e => {
        e.preventDefault();

        const ramo = encodeURIComponent(document.getElementById('ramo').value.trim());
        const problema = encodeURIComponent(document.getElementById('problema').value.trim());
        let telefone = document.getElementById('telefone').value.trim();

        telefone = telefone.replace(/\D/g, '');

        if (!telefone) {
          alert('Por favor, informe um número de telefone válido.');
          return;
        }

        const mensagem = `Olá, sou do ramo: ${ramo}. Meu maior problema é: ${problema}. Poderiam me ajudar?`;
        const link = `https://wa.me/55${telefone}?text=${mensagem}`;

        window.open(link, '_blank');

        formPopup.classList.add('hidden');
        whatsappForm.reset();
      });

      // Menu lateral (comentado pois não há elementos no HTML)
      /*
      const menuToggle = document.getElementById('menuToggle');
      const sidebarMenu = document.getElementById('sidebarMenu');
      const mainContent = document.querySelector('main');
      const header = document.querySelector('header');
      const section = document.querySelector('section');

      menuToggle.addEventListener('click', () => {
        sidebarMenu.classList.toggle('-translate-x-full');
        if (!sidebarMenu.classList.contains('-translate-x-full')) {
          mainContent.classList.add('ml-48');
          header.classList.add('ml-48');
          section.classList.add('ml-48');
        } else {
          mainContent.classList.remove('ml-48');
          header.classList.remove('ml-48');
          section.classList.remove('ml-48');
        }
      });
      */
    </script>

  </body>
</html>
